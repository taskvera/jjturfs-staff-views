<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>My App - Sidebar Example</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Tailwind CSS (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome (Dev CDN) -->
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/js/all.min.js"
    crossorigin="anonymous"
  ></script>
</head>

<body class="bg-gray-100 text-gray-800 min-h-screen flex">
<!-- SIDEBAR (Three-level, single-open accordion, footer profile) -->
<aside
  id="sidebar"
  class="bg-gray-800 text-white fixed inset-y-0 left-0 w-64 transform
         -translate-x-full md:translate-x-0
         transition-transform duration-200 z-50 flex flex-col"
>
  <!-- Header / Logo -->
  <div class="p-4 bg-gray-900 flex items-center">
    <i class="fa fa-home mr-2"></i>
    <span class="font-semibold text-lg">MyApp</span>
  </div>

  <!-- Main Menu (Scroll if needed) -->
  <nav id="sidebarMenu" class="flex-1 overflow-y-auto px-2 py-3 space-y-1">
    <!-- Example Parent #1 (No sub-items) -->
    <a
      href="#"
      class="flex items-center px-3 py-2 rounded hover:bg-gray-700 transition"
    >
      <i class="fa fa-tachometer-alt mr-2 w-4 text-center"></i>
      <span>Dashboard</span>
    </a>

    <!-- Example Parent #2 with sub-levels -->
    <div class="acc-parent">
      <!-- Parent Title -->
      <button
        class="w-full flex items-center px-3 py-2 rounded hover:bg-gray-700 focus:outline-none transition"
        data-accordion-btn
      >
        <i class="fa fa-users mr-2 w-4 text-center"></i>
        <span class="flex-1 text-left">Customers</span>
        <!-- Chevron -->
        <i
          class="fa fa-chevron-down ml-auto transform transition-all duration-200"
        ></i>
      </button>

      <!-- Level 2 Sub-items -->
      <div
        class="acc-children hidden flex-col ml-6 border-l border-gray-700"
        data-accordion-content
      >
        <!-- Child #1 -->
        <a
          href="#"
          class="block px-3 py-1.5 mt-1 text-sm rounded hover:bg-gray-700"
        >
          All Customers
        </a>

        <!-- Child #2 has a third level -->
        <div class="acc-parent">
          <button
            class="w-full flex items-center px-3 py-1.5 mt-1 text-sm rounded hover:bg-gray-700 focus:outline-none transition"
            data-accordion-btn
          >
            Segments
            <i
              class="fa fa-chevron-down ml-auto transform transition-all duration-200 text-xs"
            ></i>
          </button>

          <!-- Level 3 Sub-items (stacked vertically / up-down) -->
          <div
            class="acc-children hidden flex-col ml-4 border-l border-gray-700"
            data-accordion-content
          >
            <a
              href="#"
              class="block px-3 py-1.5 mt-1 text-sm rounded hover:bg-gray-700"
            >
              Retail
            </a>
            <a
              href="#"
              class="block px-3 py-1.5 mt-1 text-sm rounded hover:bg-gray-700"
            >
              Commercial
            </a>
          </div>
        </div>

        <!-- Child #3 -->
        <a
          href="#"
          class="block px-3 py-1.5 mt-1 text-sm rounded hover:bg-gray-700"
        >
          Add New
        </a>
      </div>
    </div>    
    
    <!-- Example Parent #2 with sub-levels -->
    <div class="acc-parent">
      <!-- Parent Title -->
      <button
        class="w-full flex items-center px-3 py-2 rounded hover:bg-gray-700 focus:outline-none transition"
        data-accordion-btn
      >
        <i class="fas fa-calculator mr-2 w-4 text-center"></i>
        <span class="flex-1 text-left">Accounting</span>
        <!-- Chevron -->
        <i
          class="fa fa-chevron-down ml-auto transform transition-all duration-200"
        ></i>
      </button>

      <!-- Level 2 Sub-items -->
      <div
        class="acc-children hidden flex-col ml-6 border-l border-gray-700"
        data-accordion-content
      >
      <!-- Child #1 -->
      <a
        href="#"
        class="block px-3 py-1.5 mt-1 text-sm rounded hover:bg-gray-700"
      >
        Journal Entries
      </a>
      <!-- Child #1 -->
      <a
        href="#"
        class="block px-3 py-1.5 mt-1 text-sm rounded hover:bg-gray-700"
      >
        General Ledger
      </a>


        <!-- Child #3 -->
        <a
          href="#"
          class="block px-3 py-1.5 mt-1 text-sm rounded hover:bg-gray-700"
        >
          Chart of Accounts
        </a>
      </div>
    </div>

    <!-- Example Parent #3 with sub-levels -->
    <div class="acc-parent">
      <button
        class="w-full flex items-center px-3 py-2 rounded hover:bg-gray-700 focus:outline-none transition"
        data-accordion-btn
      >
        <i class="fa fa-file-invoice-dollar mr-2 w-4 text-center"></i>
        <span class="flex-1 text-left">Invoices</span>
        <i
          class="fa fa-chevron-down ml-auto transform transition-all duration-200"
        ></i>
      </button>
      <div
        class="acc-children hidden flex-col ml-6 border-l border-gray-700"
        data-accordion-content
      >
        <a
          href="#"
          class="block px-3 py-1.5 mt-1 text-sm rounded hover:bg-gray-700"
        >
          Unpaid
        </a>
        <a
          href="#"
          class="block px-3 py-1.5 mt-1 text-sm rounded hover:bg-gray-700"
        >
          Paid
        </a>
        <a
          href="#"
          class="block px-3 py-1.5 mt-1 text-sm rounded hover:bg-gray-700"
        >
          Overdue
        </a>
      </div>
    </div>
    <!-- Add more parent items or children as needed -->
  </nav>

  <!-- Footer w/ Profile Info -->
  <div class="p-4 border-t border-gray-700 flex items-center space-x-3">
    <!-- Example avatar -->
    <img
      src="https://via.placeholder.com/40"
      alt="User"
      class="w-10 h-10 rounded-full"
    />
    <div class="flex-1">
      <div class="text-sm font-semibold">John Doe</div>
      <div class="text-xs text-gray-300">Administrator</div>
    </div>
    <!-- Example logout icon -->
    <a href="#" class="hover:text-gray-400">
      <i class="fa fa-sign-out-alt"></i>
    </a>
  </div>
</aside>

<script>
  // Accordion logic with single-open behavior
  // For each .acc-parent, clicking [data-accordion-btn] toggles that sub-menu
  // and closes siblings at the same level.
  const parentMenus = document.querySelectorAll('.acc-parent');

  parentMenus.forEach((parent) => {
    const toggleBtn = parent.querySelector('[data-accordion-btn]');
    const childrenContainer = parent.querySelector('[data-accordion-content]');

    if (toggleBtn && childrenContainer) {
      toggleBtn.addEventListener('click', (e) => {
        e.stopPropagation();

        // Close siblings on the same level
        const siblings = parent.parentElement.querySelectorAll('.acc-parent');
        siblings.forEach((sib) => {
          if (sib !== parent) {
            const sibBtn = sib.querySelector('[data-accordion-btn]');
            const sibContent = sib.querySelector('[data-accordion-content]');
            if (sibContent && !sibContent.classList.contains('hidden')) {
              sibContent.classList.add('hidden');
              // Rotate chevron back
              const sibChevron = sibBtn.querySelector('.fa-chevron-down');
              sibChevron && sibChevron.classList.remove('rotate-180');
            }
          }
        });

        // Toggle this sub-menu
        childrenContainer.classList.toggle('hidden');

        // Rotate chevron
        const chevron = toggleBtn.querySelector('.fa-chevron-down');
        chevron && chevron.classList.toggle('rotate-180');
      });
    }
  });
</script>



  <!-- OVERLAY (mobile) -->
  <div
    id="sidebarOverlay"
    class="hidden fixed inset-0 bg-black bg-opacity-50 z-40"
  ></div>

  <!-- MAIN CONTENT WRAPPER -->
  <!-- Notice md:ml-64 here so on desktop, content is offset by 64px margin -->
  <div class="flex-1 flex flex-col md:ml-64">
    <!-- Top Nav -->
    <header
      class="bg-white text-gray-700 shadow-sm px-4 py-2 flex items-center justify-between"
    >
      <!-- Left side: title and mobile toggle -->
      <div class="flex items-center space-x-3">
        <!-- Hamburger toggle (mobile only) -->
        <button
          id="hamburgerBtn"
          class="md:hidden text-gray-500 focus:outline-none"
        >
          <i class="fa fa-bars"></i>
        </button>

        <!-- Title / Page Heading -->
        <div class="page-heading py-1" id="pageHeading">
          <h2
            class="page-title text-xl font-semibold flex items-center space-x-2"
            id="pageTitle"
          >
            <i class="fa fa-lg fa-users" aria-hidden="true"></i>
            <span id="main-title">Jeremy Evans</span>
          </h2>
        </div>
      </div>

      <!-- Right side: icon links -->
      <div class="flex space-x-4 items-center text-gray-500">
        <!-- To-Do List -->
        <a
          href="/scheduler/add-new-todo"
          title="Create a To-Do"
          class="hover:text-gray-800"
        >
          <i class="fas fa-tasks" aria-hidden="true"></i>
        </a>

        <!-- Messaging/Inbox -->
        <a
          href="#"
          id="messenger-open"
          class="relative hover:text-gray-800"
        >
          <i class="fas fa-comment" aria-hidden="true"></i>
          <!-- If you need a badge/pulse for unread messages: -->
          <div
            id="notify-badge-msg"
            class="absolute top-0 right-0"
            style="display: none;"
          >
            <div class="notify-pulse"></div>
            <div class="notify-marker"></div>
          </div>
        </a>

        <!-- Settings -->
        <a href="/settings" class="hover:text-gray-800">
          <i class="fa fa-lg fa-cog" aria-hidden="true"></i>
        </a>

        <!-- Notifications -->
        <a href="/notifications" class="relative hover:text-gray-800">
          <i class="fa fa-lg fa-bell" aria-hidden="true"></i>
          <!-- Notification badge if needed -->
          <div
            id="notify-badge"
            class="absolute top-0 right-0"
            style="display: none;"
          >
            <div class="notify-pulse"></div>
            <div class="notify-marker"></div>
          </div>
        </a>

        <!-- Profile -->
        <a
          href="/resources/employees/edit/62149"
          class="hover:text-gray-800"
        >
          <i class="fa fa-lg fa-user" aria-hidden="true"></i>
        </a>
      </div>
    </header>

    <!-- MAIN CONTENT AREA -->
    <main class="p-2 md:p-2">
      <!-- Breadcrumb -->
      <div class="md:block">
        <nav class="py-2 text-sm" aria-label="Breadcrumb">
          <ol class="flex items-center space-x-2">
            <!-- Home -->
            <li>
              <a
                href="/"
                class="text-blue-600 hover:underline hover:text-blue-800"
              >
                Home
              </a>
            </li>
            <!-- Separator -->
            <li class="text-gray-400">
              <svg
                class="w-4 h-4"
                fill="currentColor"
                viewBox="0 0 20 20"
                aria-hidden="true"
              >
                <path
                  fill-rule="evenodd"
                  d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 
                  4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                  clip-rule="evenodd"
                ></path>
              </svg>
            </li>

            <!-- Customers -->
            <li>
              <a
                href="/customers"
                class="text-blue-600 hover:underline hover:text-blue-800"
              >
                Customers
              </a>
            </li>
            <!-- Separator -->
            <li class="text-gray-400">
              <svg
                class="w-4 h-4"
                fill="currentColor"
                viewBox="0 0 20 20"
                aria-hidden="true"
              >
                <path
                  fill-rule="evenodd"
                  d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 
                  4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                  clip-rule="evenodd"
                ></path>
              </svg>
            </li>

            <!-- Current page -->
            <li class="text-gray-500" aria-current="page">
              Jeremy Evans
            </li>
          </ol>
        </nav>
      </div>

      <!-- =========================================== -->
      <!-- MAIN_CONTENT_START (docblock placeholder) -->
      <!-- =========================================== -->

<!-- MAIN_CONTENT_START -->
<div class="p-4 bg-white rounded shadow">
    <h2 class="text-2xl font-bold mb-4">Create New Account</h2>
    <form action="/create-account" method="POST" class="space-y-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Account Code -->
        <div>
          <label for="accountCode" class="block text-sm font-medium text-gray-700">Account Code</label>
          <input type="text" name="accountCode" id="accountCode" placeholder="e.g. 1000" required
            class="mt-1 block w-full border border-gray-300 rounded-md p-2" />
        </div>
        <!-- Account Name -->
        <div>
          <label for="accountName" class="block text-sm font-medium text-gray-700">Account Name</label>
          <input type="text" name="accountName" id="accountName" placeholder="e.g. Cash on Hand" required
            class="mt-1 block w-full border border-gray-300 rounded-md p-2" />
        </div>
        <!-- Account Type -->
        <div>
          <label for="accountType" class="block text-sm font-medium text-gray-700">Account Type</label>
          <select name="accountType" id="accountType" class="mt-1 block w-full border border-gray-300 rounded-md p-2">
            <option value="">Select Type</option>
            <option value="Asset">Asset</option>
            <option value="Liability">Liability</option>
            <option value="Equity">Equity</option>
            <option value="Income">Income</option>
            <option value="Expense">Expense</option>
            <option value="COGS">COGS</option>
          </select>
        </div>
        <!-- Parent Account (for Sub-Accounts) -->
        <div>
          <label for="parentAccount" class="block text-sm font-medium text-gray-700">Parent Account (if sub-account)</label>
          <select name="parentAccount" id="parentAccount" class="mt-1 block w-full border border-gray-300 rounded-md p-2">
            <option value="">None</option>
            <!-- Dynamically populate options from existing accounts -->
            <option value="1000">1000 - Cash on Hand</option>
            <option value="1100">1100 - Accounts Receivable</option>
          </select>
        </div>
        <!-- Description -->
        <div class="md:col-span-2">
          <label for="description" class="block text-sm font-medium text-gray-700">Description</label>
          <textarea name="description" id="description" rows="3" placeholder="Enter a brief description"
            class="mt-1 block w-full border border-gray-300 rounded-md p-2"></textarea>
        </div>
        <!-- Active -->
        <div class="flex items-center">
          <input type="checkbox" name="active" id="active" checked class="form-checkbox h-5 w-5 text-green-500" />
          <label for="active" class="ml-2 text-sm text-gray-700">Active</label>
        </div>
        <!-- Tax Code -->
        <div>
          <label for="taxCode" class="block text-sm font-medium text-gray-700">Tax Code</label>
          <input type="text" name="taxCode" id="taxCode" placeholder="e.g. GST, VAT" 
            class="mt-1 block w-full border border-gray-300 rounded-md p-2" />
        </div>
        <!-- Currency -->
        <div>
          <label for="currency" class="block text-sm font-medium text-gray-700">Currency</label>
          <select name="currency" id="currency" class="mt-1 block w-full border border-gray-300 rounded-md p-2">
            <option value="">Select Currency</option>
            <option value="USD">USD</option>
            <option value="EUR">EUR</option>
            <option value="GBP">GBP</option>
            <option value="JPY">JPY</option>
          </select>
        </div>
        <!-- Opening Balance -->
        <div>
          <label for="openingBalance" class="block text-sm font-medium text-gray-700">Opening Balance</label>
          <input type="number" name="openingBalance" id="openingBalance" placeholder="0.00" step="0.01"
            class="mt-1 block w-full border border-gray-300 rounded-md p-2" />
        </div>
        <!-- Posting Type -->
        <div>
          <label for="postingType" class="block text-sm font-medium text-gray-700">Posting Type</label>
          <select name="postingType" id="postingType" class="mt-1 block w-full border border-gray-300 rounded-md p-2">
            <option value="">Select Posting Type</option>
            <option value="Debit">Debit</option>
            <option value="Credit">Credit</option>
          </select>
        </div>
        <!-- Reconciliation Required -->
        <div class="flex items-center">
          <input type="checkbox" name="reconciliation" id="reconciliation" class="form-checkbox h-5 w-5 text-green-500" />
          <label for="reconciliation" class="ml-2 text-sm text-gray-700">Reconciliation Required</label>
        </div>
        <!-- Effective Date -->
        <div>
          <label for="effectiveDate" class="block text-sm font-medium text-gray-700">Effective Date</label>
          <input type="date" name="effectiveDate" id="effectiveDate"
            class="mt-1 block w-full border border-gray-300 rounded-md p-2" />
        </div>
      </div>
      <div>
        <button type="submit" class="w-full bg-green-500 hover:bg-green-600 text-white py-2 rounded-md flex items-center justify-center">
          <i class="fa fa-plus mr-2"></i> Create Account
        </button>
      </div>
    </form>
  </div>
  <!-- MAIN_CONTENT_END -->
  
      <!-- ========================================= -->
      <!-- MAIN_CONTENT_END (docblock placeholder) -->
      <!-- ========================================= -->

    </main>
    <!-- End main content area -->
  </div>
  <!-- end .flex-1 flex flex-col md:ml-64 -->

  <!-- Toggle Script -->
  <script>
    const hamburgerBtn = document.querySelector("#hamburgerBtn");
    const sidebar = document.querySelector("#sidebar");
    const overlay = document.querySelector("#sidebarOverlay");

    hamburgerBtn.addEventListener("click", () => {
      sidebar.classList.toggle("-translate-x-full");
      overlay.classList.toggle("hidden");
    });

    overlay.addEventListener("click", () => {
      sidebar.classList.add("-translate-x-full");
      overlay.classList.add("hidden");
    });
  </script>
</body>
</html>
